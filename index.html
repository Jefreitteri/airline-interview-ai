async function callInterviewAPI(messages) {
  const res = await fetch("/api/interview", {
    method: "POST",
    headers: { "Content-Type": "application/json" },
    body: JSON.stringify({ messages }),
  });

  const text = await res.text();
  let data;
  try { data = JSON.parse(text); } catch { data = { raw: text }; }

  if (!res.ok) {
    const msg = data?.message || data?.error || data?.raw || "Unknown error";
    throw new Error(`API ${res.status}: ${msg}`);
  }

  // meid√§n backend palauttaa { text: "..."}
  return data.text;
}
